<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kali Linux Terminal Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #121212;
            color: #ffffff;
            font-family: "Courier New", Courier, monospace;
            height: 100vh;
            overflow: hidden;
        }
        
        .terminal {
            padding: 1rem;
            height: 100%;
            overflow-y: auto;
        }
        
        .prompt {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .user {
            color: #ff0000; /* 红色的root@kali */
            font-weight: bold;
        }
        
        .command {
            color: #ffffff; /* 白色的命令 */
            margin-left: 0.5rem;
        }
        
        .output {
            color: #00ff00; /* 绿色的返回内容 */
            margin-bottom: 1rem;
            white-space: pre-wrap;
        }
        
        .cursor {
            background-color: #ffffff;
            width: 0.7em;
            height: 1em;
            margin-left: 0.2em;
            animation: blink 1s step-end infinite;
        }
        
        @keyframes blink {
            from, to { background-color: transparent }
            50% { background-color: #ffffff }
        }
    </style>
</head>
<body>
    <div class="terminal" id="terminal"></div>
    
    <script>
        // 获取终端元素
        const terminal = document.getElementById('terminal');
        
        // 命令与对应输出的映射表，便于扩展
        const commands = {
            'uname -a': 'Linux kali 5.10.0-kali9-amd64 #1 SMP Debian 5.10.46-4kali1 (2021-08-09) x86_64 GNU/Linux',
            
            'ls -la': `total 60
drwxr-xr-x  6 root root  4096 Aug 15 10:23 .
drwxr-xr-x 20 root root  4096 Aug 15 09:45 ..
-rw-r--r--  1 root root   570 Jan 31  2020 .bashrc
drwx------  2 root root  4096 Aug 15 10:15 .cache
drwx------  3 root root  4096 Aug 15 10:18 .config
-rw-r--r--  1 root root   161 Jul  9  2019 .profile
drwxr-xr-x  2 root root  4096 Aug 15 10:20 Desktop
drwxr-xr-x  2 root root  4096 Aug 15 10:21 Documents`,
            
            'ifconfig': `eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.1.105  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::a00:27ff:fe2b:7d5c  prefixlen 64  scopeid 0x20<link>
        ether 08:00:27:2b:7d:5c  txqueuelen 1000  (Ethernet)
        RX packets 1258  bytes 118345 (115.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 896  bytes 104218 (101.7 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 32  bytes 2592 (2.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 32  bytes 2592 (2.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0`,
            
            'netstat -tuln': `Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:5432          0.0.0.0:*               LISTEN     
tcp6       0      0 ::1:631                 :::*                    LISTEN     
udp        0      0 0.0.0.0:68              0.0.0.0:*                          
udp        0      0 0.0.0.0:5353            0.0.0.0:*                          
udp6       0      0 :::5353                 :::*`,
            
            'ps aux | grep -i metasploit': `root       892  0.0  0.1  12348  5678 ?        S    10:15   0:00 /usr/bin/ruby /usr/bin/msfconsole
root       905  0.5  5.2 123456 78901 ?       Sl   10:15   0:03 /usr/bin/ruby /usr/bin/msfconsole
root      1203  0.0  0.0  12345  6789 pts/0    S+   10:25   0:00 grep --color=auto -i metasploit`,
            
            'cat /etc/os-release': `PRETTY_NAME="Kali GNU/Linux Rolling"
NAME="Kali GNU/Linux"
ID=kali
VERSION="2023.3"
VERSION_ID="2023.3"
VERSION_CODENAME="kali-rolling"
ID_LIKE=debian
ANSI_COLOR="1;31"
HOME_URL="https://www.kali.org/"
SUPPORT_URL="https://forums.kali.org/"
BUG_REPORT_URL="https://bugs.kali.org/"`,
            
            'nmap -sP 192.168.1.0/24': `Starting Nmap 7.93 ( https://nmap.org ) at 2023-08-15 10:30 EDT
Nmap scan report for 192.168.1.1
Host is up (0.0023s latency).
Nmap scan report for 192.168.1.100
Host is up (0.012s latency).
Nmap scan report for 192.168.1.105
Host is up (0.00034s latency).
Nmap scan report for 192.168.1.107
Host is up (0.021s latency).
Nmap done: 256 IP addresses (4 hosts up) scanned in 3.21 seconds`,
            
            'apt list --upgradable': `Listing... Done
aircrack-ng/kali-rolling 1:1.7-5 amd64 [upgradable from: 1:1.6+git20230526.85e9f0a-0kali1]
firefox/kali-rolling 116.0.3-1 amd64 [upgradable from: 116.0.2-1]
kali-linux-core/kali-rolling 2023.3.0 all [upgradable from: 2023.2.0]
metasploit-framework/kali-rolling 6.3.35-0kali1 amd64 [upgradable from: 6.3.34-0kali1]
nmap/kali-rolling 7.94+dfsg1-1 amd64 [upgradable from: 7.93+dfsg1-1]`
        };
        
        // 要自动执行的命令序列
        const commandSequence = [
            'uname -a',
            'ls -la',
            'ifconfig',
            'netstat -tuln',
            'ps aux | grep -i metasploit',
            'cat /etc/os-release',
            'nmap -sP 192.168.1.0/24',
            'apt list --upgradable'
        ];
        
        // 随机执行命令并循环
        function executeRandomCommand() {
            const randomIndex = Math.floor(Math.random() * commandSequence.length);
            const command = commandSequence[randomIndex];
            addCommandToTerminal(command).then(() => {
                setTimeout(() => {
                    const output = document.createElement('div');
                    output.className = 'output';
                    output.textContent = commands[command];
                    terminal.appendChild(output);
                    scrollToBottom();
                    setTimeout(executeRandomCommand, 2000); // 2秒后执行下一个随机命令
                }, command.length * 300); // 等待命令完全显示后再执行输出
            });
        }
        
        // 显示初始欢迎信息
        function showWelcomeMessage() {
            const welcome = document.createElement('div');
            welcome.className = 'output';
            welcome.textContent = `Linux kali 5.10.0-kali9-amd64 #1 SMP Debian 5.10.46-4kali1 (2021-08-09) x86_64

The programs included with the Kali GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Kali GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.`;
            terminal.appendChild(welcome);
            scrollToBottom();
            executeRandomCommand(); // 开始随机执行命令
        }
        
        // 添加命令到终端
        function addCommandToTerminal(command) {
            const prompt = document.createElement('div');
            prompt.className = 'prompt';
            
            const user = document.createElement('span');
            user.className = 'user';
            user.textContent = 'root@kali:~#';
            
            const cmd = document.createElement('span');
            cmd.className = 'command';
            
            let i = 0;
            const interval = setInterval(() => {
                if (i < command.length) {
                    cmd.textContent += command.charAt(i);
                    i++;
                    scrollToBottom();
                } else {
                    clearInterval(interval);
                }
            }, 300); // 300ms per character (200 characters per minute)
            cmd.textContent = command;
            
            const cursor = document.createElement('span');
            cursor.className = 'cursor';
            
            prompt.appendChild(user);
            prompt.appendChild(cmd);
            prompt.appendChild(cursor);
            terminal.appendChild(prompt);
            scrollToBottom();
            
            // 移除光标并显示输出
            return new Promise(resolve => {
                setTimeout(() => {
                    cursor.remove();
                    resolve();
                }, 1000);
            });
        }
        
        // 添加命令输出到终端
        function addOutputToTerminal(output) {
            const outputDiv = document.createElement('div');
            outputDiv.className = 'output';
            outputDiv.textContent = output;
            terminal.appendChild(outputDiv);
            scrollToBottom();
        }
        
        // 自动滚动到底部
        function scrollToBottom() {
            terminal.scrollTop = terminal.scrollHeight;
        }
        
        // 按顺序执行命令
        async function executeCommandsSequentially() {
            showWelcomeMessage();
            
            // 等待欢迎信息显示
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // 依次执行命令序列
            for (const command of commandSequence) {
                // 添加命令到终端并等待光标动画
                await addCommandToTerminal(command);
                
                // 获取并显示命令输出
                const output = commands[command] || `Command not found: ${command}`;
                addOutputToTerminal(output);
                
                // 等待一段时间再执行下一个命令（2-5秒随机）
                const delay = 2000 + Math.random() * 3000;
                await new Promise(resolve => setTimeout(resolve, delay));
            }
            
            // 所有命令执行完毕后，显示最后一个提示符
            await addCommandToTerminal('');
        }
        
        // 启动命令执行
        executeCommandsSequentially();
    </script>
</body>
</html>